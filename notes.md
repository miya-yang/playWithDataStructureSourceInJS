## 第 3 章 线性表

### 3.1 开场白

### 3.2 线性表的定义

- 线性表（List）：零个或多个数据元素的有限序列。
- 线性表元素的个数 n（n >= 0）定义为线性表的长度，当 n = 0 时，称为空表。
- 在较复杂的线性表中，一个数据元素可以由若干个数据项组成。

### 3.3 线性表的抽象数据类型

### 3.4 线性表的顺序存储结构

- 线性表的顺序存储结构，指的是用一段地址连续的存储单元依次存储线性表的数据元素。
- 可以使用一维数组来实现顺序存储结构。
- 存储器中的每个存储单元都有自己的编号，这个编号称为地址。
- 存储时间性能为 O(1)，我们通常把具有这一特点的存储结构称为随机存储结构。

### 3.5 顺序存储结构的插入与删除

- 线性表的顺序存储结构，比较适合元素个数不太变化，而更多是存取数据的应用。
- 线性表的顺序存储结构优点：1. 无须为表示表中元素之间的逻辑关系而增加额外的存储空间。2. 可以快速地存取表中任一位置的元素。
- 线性表的顺序存储结构缺点：1. 插入和删除操作需要移动大量元素。 2. 当线性表长度变化较大时，难以确定存储空间的容量。 3. 造成存储空间的“碎片”。

### 3.6 线性表的链式存储结构

- 线性表的链式存储结构的特点是用一组任意的存储单元存储线性表的数据元素，这组存储单元可以是连续的，也可以是不连续的。这就意味着，这些数据元素可以存在内存未被占用的任意位置。
- 链式结构中，除了要存数据元素信息外，还要存储它的后继元素的存储地址。
- 把存储数据元素信息的域称为数据域，把存储直接后继位置的域称为指针域。
- 链表的每个结点中只包含一个指针域，所以叫做单链表。
- 链表中第一个结点的存储位置叫做头指针。
- 我们规定，线性链表的最后一个结点指针为“空”（通常用 NULL 或“^”符号表示）。
- 在单链表的第一个结点前附设一个结点，称为头结点。头结点的数据域可以不存储任何信息，也可以存储如线性表的长度等附加信息，头结点的指针域存储指向第一个结点的指针。
- 结点由存放数据元素的数据域和存放后继结点地址的指针域组成。

### 3.7 单链表的读取

### 3.8 单链表的插入与删除

- 对于插入或删除数据越频繁的操作，单链表的效率优势就越是明显。

### 3.9 单链表的整表创建

- 头插法：始终让新结点在第一的位置。
- 尾插法：新结点都插在终端结点的后面。

### 3.10 单链表的整表删除

### 3.11 单链表结构与顺序存储结构优缺点

- 存储分配方式：顺序存储结构用一段连续的存储单元依次存储线性表的数据元素；单链表采用链式存储结构，用一组任意的存储单元存放线性表的元素。
- 时间性能：查找：顺序存储结构 O(1)；单链表 O(n)；插入和删除：顺序存储结构需要平均移动表长一半的元素，时间为 O(n)；单链表在线出某位置的指针后，插入和删除时间仅为 O(1)。
- 空间性能：顺序存储结构需要预分配存储空间，分大了，浪费，分小了易发生上溢；单链表不需要分配存储空间，只要有就可以分配，元素个数也不受限制。
- 若线性表需要频繁查找，很少进行插入和删除操作时，宜采用顺序存储结构。若需要频繁插入和删除时，宜采用单链表结构。
- 当线性表中的元素个数变化较大或者根本不知道有多大时，最好用单链表结构，这样可以不需要考虑存储空间的大小问题。如果事先知道线性表的大致长度，用顺序存储结构效率会高很多。

### 3.12 静态链表

- 用数组描述的链表叫做静态链表，这种描述方法还有起名叫做游标实现法。
- 我们通常把未被使用的数组元素称为备用链表。数组的第一个元素，即下标为 0 的元素的 cur 存放备用链表的第一个结点的下标；数组的最后一个元素的 cur 存放第一个有数值的元素的下标，相当于单链表中的头结点作用。
- 静态链表的优点：在插入和删除操作时，只需要修改游标，不需要移动元素，从而改进了在顺序存储结构中的插入和删除操作需要移动大量元素的缺点
- 静态链表的缺点：1. 没有解决连续存储分配带来的表长难以确定的问题。 2. 失去了顺序存储结构随机存储的特性。

### 3.13 循环链表

- 将单链表中终端结点的指针端由空指针改为指向头结点，就使整个单链表形成一个环，这种头尾相接的单链表称为单循环链表，简称循环链表。
- 循环链表和单链表的主要差异就在于循环的判断条件上，原来是判断 p->next 是否为空，现在则是 p->next 不等于头结点，则循环未结束。
- 终端结点用尾指针 rear 指示，则查找终端结点是 O(1)，而开始结点，其实就是 rear->next->next，其时间复杂度也为 O(1)。

### 3.14 双向链表

- 双向链表是在单链表的每个结点中，再设置一个指向其前驱结点的指针域。
- 双向链表的插入方法，我们要注意顺序：先搞定即将插入的 s 的前驱和后继，再搞定后结点的前驱，最后解决前结点的后继。

### 3.15 总结回顾

### 3.16 结尾语

## 第 4 章 栈与队列

### 4.1 开场白

### 4.2 栈的定义

- 栈是限定仅在表尾进行插入和删除操作的线性表。
- 我们把允许插入和删除的一端称为栈顶（top），另一端称为栈底（bottom），不含任何数据元素的栈称为空栈。栈又称为后进先出（Last In First Out）的线性表，简称 LIFO 结构。
- 栈是一种特殊的线性表。
- 栈的插入操作，叫做进栈，也称压栈、入栈。
- 栈的删除操作，叫做出栈，也有的叫做弹栈。

### 4.3 栈的抽象数据类型

### 4.4 栈的顺序存储结构及变化

- 栈的顺序存储结构，入栈和出栈操作的时间复杂度均是 O(1)。

### 4.5 两栈共享空间

- 两个栈有两个栈底，让一个栈的栈底为数组的始端，即下标为 0 处，另一个栈为数组的末端，即下标为数组长度 n-1 处。这样，两个栈如果增加元素，就是两端点向中间延伸。
- 栈满的情况，两个指针之间相差 1 时，即 top1 + 1 === top2 为栈满。
- 使用这样的数据结构，通常都是当两个栈的空间需求有相反关系时，也就是一个栈增长时另一个栈在缩短的情况。
- 共享栈只是针对两个具有相同数据类型的栈的一个设计上的技巧，如果是不相同数据类型的栈，这种办法反而会让问题变得更复杂。

### 4.6 栈的链式存储结构及实现

- 栈的链式存储结构，简称为链栈。
- 通常对于链栈来说，是不需要头部结点的。
- 对于链栈来说，基本不存在栈满的情况，除非内存已经没有可以使用的空间。
- 最好的办法是把栈顶放在单链表的头部。
- 链栈的进栈和出栈操作时间复杂度均为 O(1)。
- 对比一下顺序栈和链栈，时间复杂度是相同的，均为 O(1)；空间复杂度：顺序栈需要实现确定一个固定的长度，可能会在内存空间浪费，但优势是存取时定位方便，而链栈则要求每个元素都有指针域，同时增加了一定的内存开销，但对于栈的长度无限制。如果使用过程中元素变化不可预料，有时很小，有时很大，那么最好是用链栈，反之，如果它的变化在可控范围内，建议使用顺序栈会比较好。

### 4.7 栈的作用

### 4.8 栈的应用——递归

- 递归函数：把一个直接调用自己或通过一系列的调用语句间接地调用自己的函数，称做递归函数。
- 每个递归定义必须至少有一个条件，满足时递归不再进行，即不再引用自身而是返回值退出。
- 大量的递归调用会建立函数的副本，会耗费大量的时间和内存。

### 4.9 栈的应用——四则运算表达式求值

- 逆波兰表示法（后缀表示法）：一种不需要括号的后缀表达法。
- 如“9 + ( 3 - 1 ) \* 3 + 10 / 2”使用后缀表示法表示为“9 3 1 - 3 \* + 10 2 / +”，这样的表达式称为后缀表达式。即所有的符号都是在要运算数字的后面出现。
- 我们把平时所用的标准四则运算表达式叫做中缀表达式。
- 后缀表达式计算规则：从左到右遍历表达式的每个数字和符号，遇到是数字就进栈，遇到是符号，就将处于栈顶两个数字出栈，进行运算，运算结果进栈，一直到最终获得结果。
- 中缀表达式转后缀表达式规则：从左到右遍历中缀表达式的每个数字和符号，若是数字就输出，即成为后缀表达式的一部分；若是符号，则判断其与栈顶符号的优先级，是右括号或优先级不高于栈顶符号（乘除优先加减）则栈顶元素依次出栈并输出，并将当前符号进栈，一直到最终输出后缀表达式为止。
- 让计算机具有处理我们通常的标准表达式的能力，最重要的就是两步：1. 将中缀表达式转化为后缀表达式（栈用来进出运算的符号）。 2. 将后缀表达式进行运算得出结果（栈用来进出运算的数字）。

### 4.10 队列的定义

- 队列是只允许在一端进行插入操作，而在另一端进行删除操作的线性表。
- 队列是一种先进先出（First In First Out）的线性表，简称 FIFO。允许插入的一端称为队尾，允许删除的一端称为对头。

### 4.11 队列的抽象数据类型

- 与线性表不同的是，插入数据只能在队尾进行，删除数据只能在队头进行。

### 4.12 循环队列

- 队列作为一种特殊的线性表，同样存在顺序存储和链式存储两种存储方式。
- 队列顺序存储的不足：由于队列元素的出列在队头，即下标为 0 的位置。因此，队列中的所有元素都要向前移动，以保证队列的队头不为空，此时时间复杂度为 O(n)。
- 为了避免当只有一个元素，队头和队尾重合使处理变得麻烦，所以引入两个指针，front 指针指向队头元素，rear 指针指向队尾元素的下一个位置，这样当 front 等于 rear 时，此队列不是还剩一个元素，而是空队列。
- 我们把队列的这种头尾相接的顺序存储结构称为循环队列。
- 循环队列中，我们定义当数组中还有一个空闲单元时为队列满。因为 rear 可能比 front 大，也可能比 front 小，因此我们定义队列满的条件是(rear + 1) % QueueSize === front。
- 通用的计算队列长度公式为：(rear - front + QueueSize) % QueueSize
